<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <div class="row">
        <div class="col-sm-6">
          <div class="m-b-30">
            <button id="addMP" class="btn btn-primary waves-effect waves-light"
                    [routerLink]="['/production/recipient/ajouter']">Ajouter Recipient<i
              class="fa fa-plus"></i></button>
          </div>
        </div>
      </div>
      <div class="card-box">
        <table [ngBusy]="busy" class="table table-striped table-bordered  dataTable no-footer" id="datatable"
               role="grid" aria-describedby="datatable_info">
          <thead>
          <tr role="row">
            <th tabindex="0" class="sorting_asc" aria-controls="datatable" style="width: 170px;"
                aria-label="Name: activate to sort column descending" aria-sort="ascending" rowspan="1"
                colspan="1">Label
            </th>
            <th tabindex="0" class="sorting" aria-controls="datatable" style="width: 116px;"
                aria-label="Start date: activate to sort column ascending" rowspan="1" colspan="1">Référence
            </th>
            <th tabindex="0" class="sorting" aria-controls="datatable" style="width: 276px;"
                aria-label="Position: activate to sort column ascending" rowspan="1" colspan="1">Volume
            </th>
            <th tabindex="0" class="sorting" aria-controls="datatable" style="width: 276px;"
                aria-label="Position: activate to sort column ascending" rowspan="1"
                colspan="1">Unité
            </th>
            <th tabindex="0" class="sorting" aria-controls="datatable" style="width: 116px;"
                aria-label="Start date: activate to sort column ascending" rowspan="1" colspan="1">Coût
            </th>
            <th tabindex="0" class="sorting" aria-controls="datatable" style="width: 116px;"
                aria-label="Start date: activate to sort column ascending" rowspan="1" colspan="1">Actions
            </th>
          </tr>
          </thead>

          <tbody>
          <tr *ngFor="let recipient of recipients ; let i = index" role="row">
            <td>
             <div *ngIf="recipient.editMode != undefined && recipient.editMode !=0">
              <input [(ngModel)]="recipient.label" id="label" name="label" type="text"
                   placeholder="Label" class="form-control input-block" required="">
             </div>
             <div *ngIf="recipient.editMode == undefined || recipient.editMode ==0">
              {{recipient.label}}
             </div></td>

             <td>
             <div *ngIf="recipient.editMode != undefined && recipient.editMode !=0">
              <input [(ngModel)]="recipient.reference" id="reference" name="reference" type="text"
                   placeholder="reference" class="form-control input-block" required="">
             </div>
             <div *ngIf="recipient.editMode == undefined || recipient.editMode ==0">
              {{recipient.reference}}
             </div></td>

             <td>
             <div *ngIf="recipient.editMode != undefined && recipient.editMode !=0">
              <input [(ngModel)]="recipient.volume" id="volume" name="volume" type="text"
                   placeholder="volume" class="form-control input-block" required="">
             </div>
             <div *ngIf="recipient.editMode == undefined || recipient.editMode ==0">
              {{recipient.volume}}
             </div></td>

             <td>
            <div *ngIf="recipient.editMode != undefined && recipient.editMode !=0">
                 <select (change) = "onChangeObj($event)"
                 id="unite" name="unite"
                  placeholder="Unite" class="form-control input-block" required="">
                  <option
                  *ngFor="let unite of unites, let jjj=index"
                  [selected] = "unite.unite_id == recipient.unite_id"
                  [value]="jjj">{{unite.nom}}</option>
                  </select>
            </div>
            <div *ngIf="recipient.editMode == undefined || recipient.editMode ==0">
             {{recipient.unite.nom}}
                        </div>
             </td>


             <td>
             <div *ngIf="recipient.editMode != undefined && recipient.editMode !=0">
              <input [(ngModel)]="recipient.cout" id="cout" name="cout" type="text"
                   placeholder="cout" class="form-control input-block" required="">
             </div>
             <div *ngIf="recipient.editMode == undefined || recipient.editMode ==0">
              {{recipient.cout}}
             </div></td>

            <td>

               <div *ngIf="recipient.editMode != undefined && recipient.editMode !=0">
                                        <a (click)="confirmLigne(i)" class="on-editing save-row"
                                           data-toggle="tooltip" title="Confirmer">
                                          <i class="fa fa-save"></i></a>
                                      </div>
              <div *ngIf="recipient.editMode == undefined || recipient.editMode==0">
                          <a (click)="editLigne(i)" class="label label-default text-inverse p-r-10"
                             data-toggle="tooltip" title="Confirmer">
                            <i class="fa fa-pencil"></i></a>

              </div>


            </td>
          </tr>
          </tbody>
        </table>

      </div>
    </div>
  </div>
</div>
