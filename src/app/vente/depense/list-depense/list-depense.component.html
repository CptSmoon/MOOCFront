<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <div class="card-box">
      <div class="row">
                <div class="col-sm-6">
                  <div class="m-b-30">
                    <button id="addDepense" class="btn btn-primary waves-effect waves-light"
                          (click)="addLigne()">Ajouter DÃ©pense<i
                      class="fa fa-plus"></i></button>
                  </div>
                </div>
              </div>

        <table [ngBusy]="busy" class="table table-striped table-bordered  dataTable no-footer" id="datatable"
               role="grid" aria-describedby="datatable_info">
          <thead>
          <tr role="row">

            <th tabindex="0" class="sorting_asc" aria-controls="datatable" style="width: 170px;"
                aria-label="Name: activate to sort column descending" aria-sort="ascending" rowspan="1"
                colspan="1">ID
            </th>
            <th tabindex="0" class="sorting_asc" aria-controls="datatable" style="width: 170px;"
                aria-label="Name: activate to sort column descending" aria-sort="ascending" rowspan="1"
                colspan="1">Titre
            </th>
          <th tabindex="0" class="sorting_asc" aria-controls="datatable" style="width: 170px;"
                aria-label="Name: activate to sort column descending" aria-sort="ascending" rowspan="1"
                colspan="1">Montant HT
            </th>
          <th tabindex="0" class="sorting_asc" aria-controls="datatable" style="width: 170px;"
                aria-label="Name: activate to sort column descending" aria-sort="ascending" rowspan="1"
                colspan="1">Remise
            </th>
          <th tabindex="0" class="sorting_asc" aria-controls="datatable" style="width: 170px;"
                aria-label="Name: activate to sort column descending" aria-sort="ascending" rowspan="1"
                colspan="1">TVA
            </th>
          <th tabindex="0" class="sorting_asc" aria-controls="datatable" style="width: 170px;"
                aria-label="Name: activate to sort column descending" aria-sort="ascending" rowspan="1"
                colspan="1">Actions
            </th>
          </tr>
          </thead>

          <tbody>
          <tr *ngFor="let depense of depenses ; let i = index">
          <td>
          {{depense.depense_id}}
          </td>
          <td>

           <div *ngIf="depense.editMode != undefined && depense.editMode !=0">
                          <input [(ngModel)]="depense.titre" id="titre" name="titre"
                                 type="text"
                                 style="width:100%" placeholder="titre" class="form-control input-block"
                                 required="">
                        </div>
                        <div *ngIf="depense.editMode == undefined || depense.editMode ==0">
                            {{depense.titre}}
                        </div>
           </td>
          <td>      <div *ngIf="depense.editMode != undefined && depense.editMode !=0">
                    <input [(ngModel)]="depense.montant" id="montant" name="montant"
                           type="number"
                           style="width:100%" placeholder="montant" class="form-control input-block"
                           required="">
                  </div>
                  <div *ngIf="depense.editMode == undefined || depense.editMode ==0">
                    <span class="label label-default text-white">
                      {{depense.montant}} DT
                    </span>
                  </div></td>
          <td>
                <div *ngIf="depense.editMode != undefined && depense.editMode !=0">
                <input [(ngModel)]="depense.remise" id="remise" name="remise"
                       type="number"
                       style="width:100%" placeholder="remise" class="form-control input-block"
                       required="">
              </div>
              <div *ngIf="depense.editMode == undefined || depense.editMode ==0">
                <span class="label label-success text-white">
                  {{depense.remise}}
                </span>
                </div>
            </td>
          <td>  <div *ngIf="depense.editMode != undefined && depense.editMode !=0">
                <input [(ngModel)]="depense.tva" id="tva" name="tva"
                       type="number"
                       style="width:100%" placeholder="tva" class="form-control input-block"
                       required="">
              </div>
              <div *ngIf="depense.editMode == undefined || depense.editMode ==0">
                <span class="label label-warning text-white">
                  {{depense.tva}}
                </span>
                </div></td>
          <td> <div *ngIf="depense.editMode != undefined && depense.editMode !=0 && depense.editMode != 2">
              <a (click)="confirmLigne(i)" class=" label label-default on-editing save-row"
                 data-toggle="tooltip" title="Confirmer">
                <i class="fa fa-save"></i></a>
            </div>

            <div *ngIf=" depense.editMode ==2">
              <a (click)="confirmAddLigne(i)" class=" label label-default on-editing save-row"
                 data-toggle="tooltip" title="Confirmer">
                <i class="fa fa-plus"></i></a>

              <a (click)="deleteLigne(i)" class="label label-default text-inverse p-r-10"
                 data-toggle="tooltip" title="Delete">
                <i class="fa fa-trash"></i></a>
            </div>
            <div *ngIf="depense.editMode == undefined || depense.editMode==0">
              <a (click)="editLigne(i)" class="label label-default text-inverse p-r-10"
                 data-toggle="tooltip" title="Confirmer">
                <i class="fa fa-pencil"></i></a>

              <a (click)="deleteLigne(i)" class="label label-default text-inverse p-r-10"
                 data-toggle="tooltip" title="Delete">
                <i class="fa fa-trash"></i></a>

            </div>
          </td>
          </tr>
          </tbody>

</table>
</div>
</div>
</div>
</div>
